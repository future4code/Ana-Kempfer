{"ast":null,"code":"import _regeneratorRuntime from \"/home/skempfer/\\xC1rea de Trabalho/Ana-Kempfer/semana10/futureX/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/skempfer/\\xC1rea de Trabalho/Ana-Kempfer/semana10/futureX/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios'; //FUNÇÕES SINCRONAS\n\nexport var setSelectedTripId = function setSelectedTripId(selectedTripId) {\n  return {\n    type: 'SET_SELECTED_TRIP',\n    payload: {\n      selectedTripId: selectedTripId\n    }\n  };\n};\nexport var setAllTrips = function setAllTrips(allTrips) {\n  return {\n    type: 'SET_ALL_TRIPS',\n    payload: {\n      allTrips: allTrips\n    }\n  };\n};\nexport var setTripDetails = function setTripDetails(tripDetails) {\n  return {\n    type: 'SET_TRIP_DETAILS',\n    payload: {\n      tripDetails: tripDetails\n    }\n  };\n}; //FUNÇÕES ASSINCRONAS\n\nexport var getAllTrips = function getAllTrips() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('https://us-central1-missao-newton.cloudfunctions.net/futureX/anakempfer/trips');\n\n              case 2:\n                response = _context.sent;\n                dispatch(setAllTrips(response.data.trips));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var createTrip = function createTrip(form) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var formData, config;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                formData = {\n                  name: form.name,\n                  date: form.date,\n                  description: form.description,\n                  durationInDays: form.durationInDays,\n                  planet: form.planet\n                };\n                config = {\n                  headers: {\n                    'auth': window.localStorage.getItem(\"token\")\n                  }\n                };\n                _context2.prev = 2;\n                _context2.next = 5;\n                return axios.post(\"https://us-central1-missao-newton.cloudfunctions.net/futureX/anakempfer/trips\", formData, config);\n\n              case 5:\n                window.alert(\"Sua viagem foi cadastrada com sucesso!\");\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](2);\n                window.alert(\"Ocorreu um erro ao tentar cadastrar a viagem.\");\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[2, 8]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getTripDetail = function getTripDetail(tripId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var config, response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                config = {\n                  headers: {\n                    'auth': window.localStorage.getItem(\"token\")\n                  }\n                };\n                _context3.next = 3;\n                return axios.get(\"https://us-central1-missao-newton.cloudfunctions.net/futureX/marioluz/trip/\".concat(tripId, \"?=\"), config);\n\n              case 3:\n                response = _context3.sent;\n                dispatch(setTripDetails(response.data.trip));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["/home/skempfer/Área de Trabalho/Ana-Kempfer/semana10/futureX/src/actions/trips.js"],"names":["axios","setSelectedTripId","selectedTripId","type","payload","setAllTrips","allTrips","setTripDetails","tripDetails","getAllTrips","dispatch","get","response","data","trips","createTrip","form","formData","name","date","description","durationInDays","planet","config","headers","window","localStorage","getItem","post","alert","getTripDetail","tripId","trip"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\n\n//FUNÇÕES SINCRONAS\n\nexport const setSelectedTripId = (selectedTripId) => ({\n    type: 'SET_SELECTED_TRIP',\n    payload: {\n        selectedTripId,\n    }\n})\n\n\nexport const setAllTrips = (allTrips) => ({\n    type: 'SET_ALL_TRIPS',\n    payload: {\n        allTrips,\n    }\n})\n\nexport const setTripDetails = (tripDetails) => ({\n    type: 'SET_TRIP_DETAILS',\n    payload: {\n        tripDetails,\n    }\n})\n\n\n//FUNÇÕES ASSINCRONAS\n\nexport const getAllTrips = () => async (dispatch) => {\n    const response = await axios.get('https://us-central1-missao-newton.cloudfunctions.net/futureX/anakempfer/trips')\n\n    dispatch(setAllTrips(response.data.trips))\n} \n\n\n\nexport const createTrip = (form) => async (dispatch) => {\n    const formData = {\n        name: form.name,\n        date: form.date,\n        description: form.description,\n        durationInDays: form.durationInDays,\n        planet: form.planet,\n    }\n\n    const config = {\n        headers: {\n            'auth': window.localStorage.getItem(\"token\")\n        }\n    }\n\n    try {\n        await axios.post(`https://us-central1-missao-newton.cloudfunctions.net/futureX/anakempfer/trips`, formData, config)\n\n        window.alert(\"Sua viagem foi cadastrada com sucesso!\")\n    } catch(error) {\n        window.alert(\"Ocorreu um erro ao tentar cadastrar a viagem.\")\n    }\n}\n\n\n\nexport const getTripDetail = (tripId) => async (dispatch) => {\n    const config = {\n        headers:{\n            'auth': window.localStorage.getItem(\"token\")\n        }\n    }\n\n    const response = await axios.get(`https://us-central1-missao-newton.cloudfunctions.net/futureX/marioluz/trip/${tripId}?=`, config)\n\n    dispatch(setTripDetails(response.data.trip))\n}\n\n\n"]},"metadata":{},"sourceType":"module"}